{% extends "layout.html" %}

{% block content %}
{% set supportRequirements %}
  {% if data['support-type'].length > 0%}
    {% if data['support-type'].indexOf("No support required") == 0 %}
      <p>No support required</p>
    {% else %}
      <ul class="govuk-list govuk-list--bullet govuk-list--spaced">
        {% for item in data['support-type'] %}
          {% if item == "additional-support-information" %}
            <li>{{data['more-detail-1']}}</li>
          {% elif item == "support-not-listed-information" %}
            <li>{{data['more-detail-2']}}</li>
          {% else %}
            <li>{{item}}</li>
          {% endif %}
        {% endfor %}
      </ul>
    {% endif %}
  {% else %}
      <p>No support required</p>
  {% endif %}
{% endset -%}

{% set testCentreLocation %}
  {% for item in data['test-centre'] %}
    <p>{{item}}</p>
  {% endfor %}
{% endset %}

{% set slotInformation %}
  {% for item in data['slot-information'] %}
    <p>{{item}}</p>
  {% endfor %}
{% endset %}

{% set slotPrice %}
    <p>{{data['slot-price']}}</p>
{% endset %}

<div><a href="#" class="govuk-link" rel="noreferrer noopener" target="_blank">Print this page</a>
</div>
<br>
<div class="govuk-grid-row">
<div class="govuk-grid-column-two-thirds">
  {{ govukPanel({
    titleText: "Driving test booking confirmed",
    html: "Driving test reference number:<br><strong>42363349</strong>"
  }) }}
<br>
</div>
</div>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">

    <p class="govuk-body">We have sent you a confirmation email with more information about your test. If you can't find the email, please check your spam and junk folders.</p>

      <h2 class="govuk-heading-m">Keep your driving test reference number safe</h2>
      <p class="govuk-body">
      You'll need it to check, cancel or change this test.</p>
      <p class="govuk-body">
      Find out how to <a href="#">change or cancel your test</a></p>
<br>

    {{ govukSummaryList({
      rows: [
        {
          key: {
            text: "Test type"
          },
          value: {
            text: "Car"
          }
        },
        {
          key: {
            text: "Cost"
          },
          value: {
            html: slotPrice
          }
        },
        {
          key: {
            text: "Test time and date"
          },
          value: {
            html: slotInformation
          }
        },
        {
          key: {
            text: "Location of test"
          },
          value: {
            html: testCentreLocation
          }
        },
        {
          key: {
            text: "Language of test"
          },
          value: {
            text: "English"
          }
        },
        {
          key: {
            text: "Support requested"
          },
          value: {
            html: supportRequirements
          }
        }
      ]
    }) }}
    <h2 class="govuk-heading-m">What to take to your test</h2>
    <p class="govuk-body">You must take:</p>
<ul class="govuk-list govuk-list--bullet govuk-list--spaced">
  <li>
    your UK driving licence (if you have an old-style paper licence, you must bring it along with a valid passport)  </li>
  <li>
    a car – most people use their driving instructor’s, but you can use your own if it meets the rules  </li>
</ul>
{% from "govuk/components/warning-text/macro.njk" import govukWarningText %}

{{ govukWarningText({
  text: "Your test can be cancelled and you’ll have to pay again if you don’t bring the right things or you arrive late.",
  iconFallbackText: "Warning"
}) }}
<h2 class="govuk-heading-m">Other important information about your test</h2>
<p class="govuk-body">The driving examiner’s supervisor can sit in on your test to watch the examiner’s performance. The supervisor won’t have any say in how you’re tested or in your result.</p>
{% from "govuk/components/warning-text/macro.njk" import govukWarningText %}

{{ govukWarningText({
  text: "Your test can be cancelled and you’ll have to pay again if you don’t let the examiner’s supervisor go with you.",
  iconFallbackText: "Warning"
}) }} 
<p class="govuk-body">DVSA has a zero tolerance policy to abuse, threats and assaults.</p>
{% from "govuk/components/warning-text/macro.njk" import govukWarningText %}

{{ govukWarningText({
  text: "You can be prosecuted or banned from taking a driving test if you’re verbally or physically violent or threatening to any member of staff.",
  iconFallbackText: "Warning"
}) }} 
{% endblock %}
